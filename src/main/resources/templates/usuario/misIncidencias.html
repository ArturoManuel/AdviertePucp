<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head >
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <div  th:replace="fragmentos/newnavbar.html :: cabecera(title='Mis Incidencias')">

    </div>

    <script src="https://kit.fontawesome.com/b101dc44ce.js" crossorigin="anonymous"></script>
    <!--JQUery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Google Fonts -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- MDB -->

    <link rel="stylesheet" th:href="@{/css/mdb.min.css}" />
    <link rel="stylesheet" href="/css/suspendido.css">
    <style>
        p{
            color:black;

        }
    </style>
</head>
<body style="background-color: #eee;">
<header th:replace="fragmentos/newnavbar.html :: navbar (user=null)">

</header>
<section style="background-color: #eee;">

    <div class="container py-5">
        <div class="row">
            <div class="col">
                <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4">
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item" style="font-size: large"><a th:href="@{'/usuario/'}">Inicio</a></li>
                        <li class="breadcrumb-item" style="font-size: large"><a th:href="@{'/usuario/perfil'}">Mi perfil</a></li>
                        <li class="breadcrumb-item active" style="font-size: large" aria-current="page">Mis incidencias</li>
                    </ol>
                </nav>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="card mb-4">
                    <div class="card-body">

                        <table id="tablax" class="table align-middle mb-0 bg-white">

                            <thead>
                            <tr>

                                <th scope="col" >Nombre</th>
                                <th scope="col">Urgencia</th>
                                <th scope="col">Ubicación</th>
                                <th scope="col">Fecha</th>
                                <th scope="col">Hora</th>
                                <th scope="col">Estado</th>
                                <th scope="col">Más info</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr th:each="incidencia,indice : ${listaIncidentes}">

                                <td th:text="${incidencia.nombre}" ><p style="font-size: 20px;margin-top: 20px"></p></td>
                                <td th:text="${incidencia.urgencia}" ><p style="font-size: 20px;margin-top: 20px"></p></td>
                                <td th:text="${incidencia.zona}" ><p style="font-size: 20px;margin-top: 20px"></p></td>
                                <td th:text="${incidencia.fecha}" ><p style="font-size: 20px;margin-top: 20px"></p></td>
                                <td th:text="${incidencia.hora}" ><p style="font-size: 20px;margin-top: 20px"></p></td>
                                <td th:text="${incidencia.estado}" ><p style="font-size: 20px;margin-top: 20px"></p></td>
                                <td><a class="btn btn-redtele" th:href="@{'/usuario/info'+'?id='+${incidencia.inci}}">+INFO</a>
                                </td>
                            </tr>
                            </tbody>
                        </table>



                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Footer -->
<footer class="sticky-footer bg-white">
    <div class="container my-auto">
        <div class="copyright text-center my-auto">
            <span>Copyright &copy; Advierte PUCP 2022</span>
        </div>
    </div>
</footer>
<!-- End of Footer -->


<!-- JQUERY -->
<script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous">
</script>
<!-- DATATABLES -->
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js">
</script>
<!-- BOOTSTRAP -->
<script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js">
</script>
<script>
    $(document).ready(function () {
        $('#tablax').DataTable({
            language: {
                processing: "Tratamiento en curso...",
                search: "Buscar&nbsp;:",
                lengthMenu: "Agrupar de _MENU_",
                info: "Mostrando del item _START_ al _END_ de un total de _TOTAL_ items",
                infoEmpty: "No existen datos.",
                infoFiltered: "(filtrado de _MAX_ elementos en total)",
                infoPostFix: "",
                lengthMenu: "",
                loadingRecords: "Cargando...",
                zeroRecords: "No se encontraron datos con tu busqueda",
                emptyTable: "No hay datos disponibles en la tabla.",
                paginate: {
                    first: "Primero",
                    previous: "Anterior",
                    next: "Siguiente",
                    last: "Ultimo"
                },
                aria: {
                    sortAscending: ": active para ordenar la columna en orden ascendente",
                    sortDescending: ": active para ordenar la columna en orden descendente"
                }
            },
            scrollY: 400,
            lengthMenu: [ [10, 25, -1], [10, 25, "All"] ],

        });
    });
</script>
</body>

</html>

